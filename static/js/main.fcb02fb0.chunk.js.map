{"version":3,"sources":["useToast.js","App.js","index.js"],"names":["ToastContext","createContext","ToastProvider","children","DefaultToast","portal","maximum","timers","useRef","index","useState","toasts","setState","DefaultToastComponent","Alert","portalTarget","generateId","current","Number","createTimeout","toast","time","id","setTimeout","removeToast","removeTimeout","toastId","clearTimeout","addToast","props","direction","opts","arguments","length","isNaN","prevState","newToasts","concat","Component","pop","filter","clearToasts","getToasts","Provider","value","createPortal","useToast","context","React","useContext","undefined","Error","remove","title","variant","className","type","data-dismiss","aria-label","onClick","aria-hidden","Toaster","renderScreen","map","key","variants","split","words","App","handleClick","diretion","Math","floor","random","style","marginTop","MyCustomAlert","ReactDOM","render","StrictMode","document","body","getElementById"],"mappings":"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","file":"static/js/main.fcb02fb0.chunk.js","sourcesContent":["import React, { createContext, useRef, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst ToastContext = createContext();\n\nfunction ToastProvider({\n  children,\n  DefaultToast = null,\n  portal = null,\n  maximum = 10,\n}) {\n  const timers = useRef({});\n  const index = useRef(0);\n  const [toasts, setState] = useState([]);\n  const DefaultToastComponent = DefaultToast || Alert;\n  const portalTarget = portal;\n\n  function generateId() {\n    index.current += 1;\n    return Number(index.current);\n  }\n\n  function createTimeout(toast, time) {\n    timers.current[toast.id] = setTimeout(() => removeToast(toast.id), time);\n  }\n\n  function removeTimeout(toastId) {\n    clearTimeout(timers.current[toastId]);\n    delete timers.current[toastId];\n  }\n\n  const addToast = (props, direction = \"bottom\", time = 5000) => {\n    const opts = { props, direction, time };\n\n    if (arguments.length === 0 || !props) return;\n    if (isNaN(Number(direction)) && arguments.length === 2)\n      opts.time = direction;\n\n    const id = generateId();\n\n    setState((prevState) => {\n      let newToasts = [].concat(\n        { props, id, direction, Component: DefaultToastComponent },\n        prevState || []\n      );\n      createTimeout({ props, id, direction }, time);\n      if (newToasts.length > maximum) newToasts.pop();\n\n      return newToasts;\n    });\n  };\n\n  const removeToast = (toastId) => {\n    removeTimeout(toastId);\n    setState((prevState) => {\n      const newToasts = prevState.filter(({ id }) => id !== toastId);\n      return newToasts;\n    });\n  };\n\n  const clearToasts = () => {\n    setState([]);\n  };\n\n  const getToasts = (direction = null) => {\n    if (!direction) return toasts;\n    return toasts.filter((toast) => toast.direction === direction);\n  };\n\n  return (\n    <ToastContext.Provider\n      value={{\n        toasts,\n        getToasts,\n        addToast,\n        removeToast,\n        clearToasts,\n      }}\n    >\n      {portalTarget && createPortal(<Toaster />, portalTarget)}\n      {!portalTarget && <Toaster />}\n      {children}\n    </ToastContext.Provider>\n  );\n}\n\nfunction useToast() {\n  const context = React.useContext(ToastContext);\n\n  if (context === undefined) {\n    throw new Error(`useToast must be used within a ToastProvider`);\n  }\n\n  return context;\n}\n\nconst Alert = ({ props, remove, id }) => {\n  const handleRemove = () => {\n    remove();\n  };\n\n  const { title, variant = \"primary\" } = props;\n\n  return (\n    <div className={`toaster__message toaster__message--${variant}`}>\n      [{id}] {title}\n      <button\n        type=\"button\"\n        className=\"toaster__message__close\"\n        data-dismiss=\"alert\"\n        aria-label=\"Close\"\n        onClick={handleRemove}\n      >\n        <span aria-hidden=\"true\">Ã—</span>\n      </button>\n    </div>\n  );\n};\n\nconst Toaster = () => {\n  const { removeToast, getToasts } = useToast();\n\n  const renderScreen = (direction) => {\n    return (\n      <span className={`toaster_screen-${direction}`}>\n        {getToasts(direction).map((toast) => (\n          <toast.Component\n            key={`${direction}-${toast.id}`}\n            id={toast.id}\n            props={toast.props}\n            remove={() => removeToast(toast.id)}\n          />\n        ))}\n      </span>\n    );\n  };\n\n  return (\n    <div className=\"toaster\">\n      {renderScreen(\"top\")}\n      {renderScreen(\"top-left\")}\n      {renderScreen(\"top-right\")}\n      {renderScreen(\"bottom\")}\n      {renderScreen(\"bottom-left\")}\n      {renderScreen(\"bottom-right\")}\n    </div>\n  );\n};\n\nexport { ToastProvider, Alert, useToast };\n\nexport default useToast;\n","import React from \"react\";\nimport useToast from \"./useToast\";\n\nconst variants = `primary success danger warning info dark`.split(\" \");\n\nconst words = `people history way art world information two family government\n health system computer meat year thanks music person reading method data food\n understanding theory law bird literature problem software control knowledge\n power ability economics love internet television monitor dogs`.split(\" \");\n\nconst randomWord = () => words[Math.floor(Math.random() * words.length)];\nconst randomVariant = () =>\n  variants[Math.floor(Math.random() * variants.length)];\n\nfunction App() {\n  const { addToast } = useToast();\n\n  const handleClick = (diretion) => () => {\n    addToast({ title: randomWord(), variant: randomVariant() }, diretion, 5000);\n  };\n\n  return (\n    <div className=\"app\">\n      <div style={{ marginTop: \"44vh\" }}>\n        <button onClick={handleClick(\"top\")}>Top</button>\n        <button onClick={handleClick(\"top-left\")}>Top-Left</button>\n        <button onClick={handleClick(\"top-right\")}>Top-Right</button>\n        <button onClick={handleClick(\"bottom\")}>Bottom</button>\n        <button onClick={handleClick(\"bottom-left\")}>Bottom-Left</button>\n        <button onClick={handleClick(\"bottom-right\")}>Bottom-Right</button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ToastProvider, Alert } from \"./useToast\";\nimport App from \"./App\";\n\nimport \"./index.css\";\nimport \"./toaster.css\";\n\nconst MyCustomAlert = Alert;\n\nReactDOM.render(\n  <React.StrictMode>\n    <ToastProvider\n      DefaultToast={MyCustomAlert}\n      maximum={5}\n      portal={document.body}\n    >\n      <App />\n    </ToastProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}